<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="VitaTrack.DoctorsPage"
             BackgroundColor="White">

    <ScrollView>
        <VerticalStackLayout Padding="30" Spacing="20">

            <!-- Back button + Title -->
            <HorizontalStackLayout>
                <ImageButton Source="back_icon.png"
                             BackgroundColor="Transparent"
                             WidthRequest="24"
                             HeightRequest="24"
                             Clicked="OnBackClicked"/>
                <Label Text="Doctors"
                       FontSize="28"
                       FontFamily="LeagueSpartan"
                       FontAttributes="Bold"
                       TextColor="#006CFF"
                       Margin="100,0,0,0"
                       HorizontalOptions="CenterAndExpand"
                       VerticalOptions="Center"/>
            </HorizontalStackLayout>



            <!-- Filter Buttons -->
            <HorizontalStackLayout Spacing="10" VerticalOptions="Center"  Margin="0,-10,0,0">
                <!-- Sort by -->
                <Label Text="Sort By"
                   FontSize="14"
                   FontAttributes="Bold"
                   TextColor="Black" 
                   VerticalOptions="Center"/>
                
                <ImageButton x:Name="SortToggleButton"
                 Source="filter_az_icon.png"
                 BackgroundColor="Transparent"
                 WidthRequest="50"
                 HeightRequest="50"
                 Margin="0,0,-7,0"
                 
                 Clicked="OnSortToggleClicked"/>
                <ImageButton x:Name="FavoriteFilter"
                             Source="filter_fav_icon.png"
                             BackgroundColor="Transparent"
                             WidthRequest="30"
                             HeightRequest="30"
                             Margin="0,0,-7,0"
                             Clicked="OnFavoriteFilterClicked"/>
                <ImageButton x:Name="MaleFilter"
                             Source="filter_male_icon.png"
                             BackgroundColor="Transparent"
                             WidthRequest="30"
                             HeightRequest="30"
                             Margin="0,0,-7,0"
                             Clicked="OnMaleFilterClicked"/>
                <ImageButton x:Name="FemaleFilter"
                             Source="filter_female_icon.png"
                             BackgroundColor="Transparent"
                             WidthRequest="30"
                             HeightRequest="30"
                             Clicked="OnFemaleFilterClicked"/>
            </HorizontalStackLayout>

            <!-- Lista doctori -->
            <CollectionView x:Name="DoctorsCollectionView"
                            ItemsSource="{Binding Doctors}"
                            SelectionMode="None"
                            Margin="0,-25,0,0">

                <CollectionView.ItemTemplate>
                    <DataTemplate>
                        <Frame CornerRadius="20"
                               Padding="15"
                               Margin="0,10,0,0"
                               BorderColor="Transparent"
                               BackgroundColor="#CAD6FF">

                            <Grid ColumnDefinitions="Auto,*" RowDefinitions="Auto,Auto, Auto">
                                <!-- Poza doctor -->
                                <Image Source="{Binding ImagePath}"
                                       WidthRequest="130"
                                       HeightRequest="130"
                                       Grid.RowSpan="2"
                                       Aspect="AspectFill"
                                       Margin="0,0,0,0"
                                       VerticalOptions="Center">
                                    <Image.Clip>
                                        <EllipseGeometry Center="65,65" RadiusX="65" RadiusY="65"/>
                                    </Image.Clip>
                                </Image>

                                <!-- Nume doctor -->
                                <Label Text="{Binding Name}"
                                       FontSize="18"
                                       FontAttributes="Bold"
                                       TextColor="#2260FF"
                                       Margin="10,10,0,0"
                                       FontFamily="LeagueSpartan"
                                       Grid.Column="1"/>

                                <!-- Specializare -->
                                <Label Text="{Binding Specialization}"
                                       FontSize="16"
                                       TextColor="Black"
                                       FontFamily="LeagueSpartan"
                                       Grid.Row="1"
                                       Margin="10,-40,0,0"
                                       Grid.Column="1"/>

                                <HorizontalStackLayout Grid.Column="1"
                           Grid.Row="2"
                           Spacing="3"
                           Margin="-5,-15,0,0"
                           VerticalOptions="Start">
                                    <!-- Buton Info -->
                                    <Button Text="Info"
                            BackgroundColor="#2260FF"
                            TextColor="White"
                            FontAttributes="Bold"
                            Padding="16,2"
                            CornerRadius="22"
                            FontSize="17"
                            HeightRequest="30"
                            Margin="-12,0,5,0"
                            VerticalOptions="Center" />

                                    <!-- Calendar -->
                                    <ImageButton Source="calendar_icon.png"
                             BackgroundColor="White"
                             CornerRadius="12"
                             WidthRequest="25"
                             HeightRequest="25" />

                                    <!-- i -->
                                    <ImageButton Source="i_icon.png"
                             BackgroundColor="White"
                             CornerRadius="12"
                             WidthRequest="25"
                             HeightRequest="25" />

                                    <!-- ? -->
                                    <ImageButton Source="questionmark_icon.png"
                             BackgroundColor="White"
                             CornerRadius="12"
                             WidthRequest="25"
                             HeightRequest="25" />

                                    <!-- InimioarÄƒ -->
                                    <ImageButton Source="fav_icon.png"
                             BackgroundColor="White"
                             CornerRadius="12"
                             WidthRequest="25"
                             HeightRequest="25" />
                                </HorizontalStackLayout>

                            </Grid>

                        </Frame>
                    </DataTemplate>
                </CollectionView.ItemTemplate>

            </CollectionView>

        </VerticalStackLayout>
    </ScrollView>

</ContentPage>
